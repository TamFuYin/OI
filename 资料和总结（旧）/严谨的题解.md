# 对于食物不够的情况

因为前面的都是合法的情况，所以把加能力的日子改为制造食物也都是合法的。

把plus_day的后x天用于制造食物，列得：

(start+plus_day-x)*x ≥ a[i]

如果我们希望改动尽量小，则有：

(start+plus_day-x)*x = a[i]

化简为：-x^2^ + (start+plus_day) * x -a[i] = 0
$$
\Delta=b^2-4ac=(start+plus\_day)^2-4\cdot(-1)\cdot(-a[i])=(start+plus\_day)^2-4a[i]
$$
若方程无解，则输出-1

解得：
$$
x=\frac{-b±\sqrt\Delta}{2a}\\
x_1=\frac{-(start+plus\_day)+\sqrt\Delta}{2\cdot(-1)}=\frac{start+plus\_day-\sqrt\Delta}{2},\\
x_2=\frac{start+plus\_day+\sqrt\Delta}{2}
$$
我们取其中较小的x~1~，

然后就得到了(start+plus_day-x)*x点食物，能力值下降x点，plus_day减少x天。

# 对于食物充足的情况

同样设后面（包括今天）用x天制造食物，用(n-i+1-x)天提升能力。

则答案为food+(ability+n-i+1-x)*x

即二次函数y= -x^2^+(ability+n-i+1)*x

的顶点x=$-\frac{b}{2a}=\frac{ability+n-i+1}{2}$

如果x<n-i+1，那么今天就是用来提升能力的。

也可以再化简一下
$$
\ \begin{eqnarray}
\tfrac{ability+n-i+1}{2}&<& n-i+1\\
ability+n-i+1&<& 2(n-i+1)\\
ability&<& n-i+1
\end{eqnarray}
$$
