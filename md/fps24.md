# 形式幂级数 24 题

有趣有趣，那么，开始吧

## お菓子

是板子啦

$$
[x^N](x+x^3+x^4+x^6)^D
$$

可以直接多项式快速幂。

也可以算 $\exp (D\ln(x+x^3+x^4+x^6))$

## 整数の組

也是板子

$$
[x^N]\frac{(1+x)(1+x+x^2)}{(1-x^2)(1-x^3)}
$$

## 数列

$$
[x^S]\left(\frac{1-x^{M+1}}{1-x}\right)^N
$$

## 数列 2

首先由于所有元素互不相同，显然我们可以求出 $B$ 的个数再乘上 $n!$。

我们考虑 $B$ 的差分数组，发现只要都填奇数就行了，所以答案就是 $[x^{\le M}]\frac{1}{1-x}(\frac{x}{1-x^2})^{N-1}$。

## 数列 3

出现了！带标号计数体系！

答案即为

$$
[x^N]\prod_{m=1}^M\sum_{i=0}^m\frac{x^i}{i!}
$$

可以直接暴力算

## 色紙

也是带标号计数体系

$$
[x^N]\left(\frac{e^x-e^{-x}}{2}\right)\left(\frac{e^x+e^{-x}}{2}\right)e^x
$$

## 硬貨

[付公主的背包](https://www.luogu.com.cn/problem/P4389)

记 $F(x)=\sum_{i=m}^{m+L-1}x^i=\frac{x^m(1-x^L)}{1-x}$，则答案为其 Euler 变换。

## jump

二元生成函数。

记

$$
F(x,y)=\frac{1+x}{1-y}-1
$$

答案为

$$
[x^Ny^M]\frac{1}{1-F(x,y)}
$$